<section data-ng-controller="LeadController">
    <hgroup id="main-title" class="thin">
        <h1>{{t 'leads:ListLeads'}}</h1>
    </hgroup>

    <div class="with-padding" data-ng-init="find()">

        <div class="table-header silver-gradient glossy button-height">
            <div class="row">
                <div class="col-sm-2">
                    <div class="button-group">
						<button class="button icon-plus blue-gradient" data-ng-click="addNewLead()">{{t 'main:Add'}}</button>
                        <button title="{{t 'Refresh'}}" class="button" 
                                data-ng-click="
												params.commercial = null;
										params.status = null;
										commercial_id = '';
										status = '';
										filterOptionsLead.filterText = '';
										find();"><span class="icon-redo"></span></button>
                    </div>

                </div>
                <div class="col-sm-8">

                    <select ng-model="commercial_id"
                            ng-change="changeParams('commercial', commercial_id);
										find();"
                            ng-options="c._id.id as c._id.name for c in commercial" class="">
                        <option value="">-- {{t 'Select'}} {{t 'companies:Deal'}} --</option>
                    </select>
                    <select ng-model="status" 
                            ng-change="changeParams('status', status);
										find();" 
                            ng-options="s.id as s.label for s in dict.fk_lead_status.values" class="">
                        <option value="">-- {{t 'Select'}} {{t 'Status'}} --</option>
                    </select>
                </div>
                <div class="col-sm-2">	
                    <div class="float-right">
                        <input type="text" placeholder="{{t 'Search'}}" data-ng-model="filterOptionsLead.filterText" class="input small mid-margin-left">
                    </div>
                </div>
            </div>
        </div>
        <div class="gridStyle"  data-ng-grid="gridLeads" ng-style="style(170)" resize></div>
        <div class="table-footer silver-gradient">
            \{{count}} ligne(s)
        </div>

    </div>
</section>