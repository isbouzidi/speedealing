<form data-ng-init='init()' data-ng-submit='createContact()' class="no-margin-bottom block margin-bottom wizard same-height wizard-enabled" style="width: 800px;margin: 0 auto;">
    <!--
    <script type="text/ng-template" id="searchZipCode.html">
        <a>
            <span bind-html-unsafe="match.model.code | typeaheadHighlight:query"></span> - <span bind-html-unsafe="match.model.city"></span>
        </a>
    </script>
    -->
	<!-- Block style is optional, you can use any layout -->
	<h3 class="block-title">{{t 'companies:NewContact'}}</h3>

	<!-- Each form step should be wrapped in a fieldset -->
	<fieldset class="wizard-fieldset fields-list" data-ng-class='isActive(1)'>
		<div class="field-block button-height">
			<label for="lastname"><b>{{t 'companies:Lastname'}}</b></label>
			<div class="row">
				<div class="col-md-3">
					<select class="form-control" required data-ng-model="contact.civilite" id="poste" data-ng-options="c.label as c.label for c in dict.fk_civilite.values"></select>
				</div>
				<div class="col-md-6">
					<input required type="text" id="nom" data-ng-model="contact.lastname" class="form-control" autocomplete="off">		
				</div>
			</div>	
		</div>
		<div class="field-block button-height">
			<label for="firstName"><b>{{t 'companies:Firstname'}}</b></label>
			<div class="row">
				<div class="col-md-6">
					<input required type="text" data-ng-model="contact.firstname" id="firstName" class="form-control" autocomplete="off">
				</div>
			</div>
		</div>
		<div class="field-block button-height">
			<label for="birthday"><b>{{t 'companies:birthday'}}</b></label>
			<div class="row">
				<div class="col-md-6">
					<p class="input-group">
						<input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="contact.birthday" is-open="opened" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" close-text="Fermer" />
						<span class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</p>
				</div>
			</div>	
		</div>
		<div class="field-block button-height">
			<label for="adress"><b>{{t 'companies:Address'}}</b></label>
			<div class='columns'>
				<div class='twelve-columns'>
					<div ng-address model="contact" opp="create"></div>                                                     

				</div>
			</div>			
		</div>
		<div class="field-block button-height">
			<label for="phoneMob"><b>{{t 'companies:Tel-Mobile'}}</b></label>
			<input type="text" data-ng-model="contact.phone_mobile" id="phoneMob" class="input" autocomplete="off">
			<small ng-show="!(contact.phone_mobile || contact.phone || contact.email)" class="icon-warning orange input-info"> Au moins l'email ou un numéro de téléphone est obligatoire pour la création d'un contact.</small>
		</div>
		<div class="field-block button-height">
			<label for="phoneFix"><b>{{t 'companies:Tel-Fixe'}}</b></label>
			<input type="text" data-ng-model="contact.phone" id="phoneFix" class="input" autocomplete="off">			
		</div>
		<div class="field-block button-height">
			<label for="email"><b>{{t 'companies:email'}}</b></label>
			<input type="email" data-ng-model="contact.email" id="email" class="input" autocomplete="off">

		</div>
		<div class="field-block button-height">
			<label for="poste"><b>{{t 'companies:PostOrFunction'}}</b></label>
			<div class="row">
				<div class="col-md-6">
					<select class="form-control" required data-ng-model="contact.poste" id="poste" data-ng-options="c.label as c.label for c in dict.fk_job.values"></select>
				</div>
			</div>
		</div>

		<div class="field-block button-height">
			<label for="soncas"><b>{{t 'companies:Soncas'}}</b></label>
			<span class="editable-input">
				<label ng-repeat="Soncas in soncas">
					<input type="checkbox" checklist-model="contact.soncas" id="soncas" checklist-value="Soncas"> \{{Soncas}}
				</label>
			</span>
		</div>
		<div class="field-block button-height wizard-controls clearfix">
			<button type="submit" ng-disabled="!(contact.phone_mobile || contact.phone || contact.email)" class="button glossy mid-margin-right float-right">
				<span class="button-icon"><span class="icon-tick"></span></span>
				Créer
			</button>
		</div>
	</fieldset>		
</form>